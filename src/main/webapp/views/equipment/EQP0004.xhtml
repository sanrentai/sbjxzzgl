<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:pe="http://primefaces.org/ui/extensions"
                xmlns:h="http://xmlns.jcp.org/jsf/html">
    <p:outputPanel styleClass="Card" id="rootContainer">
        <h1 class="CardBigTopic Purple">
            <h:outputText value="#{ctrlMaster.createPageTitle('EQP', 'EQP0004')}"/>
        </h1>
        <!--无敌分割线-->
        <div class="SeparatorFull"></div>
        <p:outputPanel id="toolbar" styleClass="Container100 Responsive100 NoIndent">
                   <p:toolbar>
                <f:facet name="left">

                    <!--选择所属设备-->
                    <p:panelGrid>
                        <p:selectOneMenu id="addWarnType" value="#{ctrlEQP0004.vm.equipBasic.ENmae}"
                                           filter="true" >
                            <f:selectItem itemLabel="选择设备" itemValue=""/>
                            <f:selectItems value="#{ctrlEQP0004.vm.equipBasicList}" var="type" itemLabel="#{type.ENmae}" itemValue="#{type.id}" />
                        </p:selectOneMenu>        
                    </p:panelGrid>
                    <!--记录类型-->
                    <p:panelGrid>
                        <p:selectOneMenu id="addJiLuLeiXing" value="#{ctrlEQP0004.vm.equipNotesInEditing.TType}">
                            <f:selectItem itemLabel="记录类型" itemValue=""/>
                            <f:selectItem itemLabel="维修" itemValue="0"/>
                            <f:selectItem itemLabel="保养" itemValue="1"/>
                        </p:selectOneMenu>   
                    </p:panelGrid>
                    <!--负责人-->
                    <p:panelGrid>
                        <p:selectOneMenu id="addFuZeRen" value="#{ctrlEQP0004.vm.equipNotesInEditing.fuZeRen}" >
                            <f:selectItem itemLabel="负责人" itemValue=""/>
                            <!--<f:selectItems value="#{ctrlEQP0004.vm.equipNoteList}" var="type" itemLabel="#{type.fuZeRen}" itemValue="#{type.fuZeRen}" />-->
                        </p:selectOneMenu>        
                    </p:panelGrid>
                    <!--记录时段-->
                    <p:panelGrid>
                        <p:calendar id="addDateTime" value="#{ctrlEQP0004.vm.equipNotesInEditing.chaXunShiJian}" pattern="yyyy-MM-dd" mask="true" />
                    </p:panelGrid>
                    <!--查询-->
                    <p:commandButton value="查询" process="@this" actionListener="#{ctrlCAR0001.onRefreshData}" 
                                     resetValues="true" oncomplete="PF('wvCheLiangList').clearFilters();"
                                     update="pngDetails"/>
                </f:facet>
            </p:toolbar>
        </p:outputPanel>
  
    <p:outputPanel id="pngDetails" styleClass="Container100 Responsive100 pngDetails">
        <div class="Card">
            <div class="CardBigTopic">车辆信息</div>
            <div class="SeparatorFull"></div>
            <div class="EmptyBox10"></div>
            <p:dataTable value="#{ctrlCAR0001.vm.cheLiangList}" var="cheLiang" cellSeparator="5"
                         widgetVar="wvCheLiangList"
                         rows="10"
                         filterDelay="500"
                         style="word-break: keep-all!important"
                         paginator="true"
                         paginatorAlwaysVisible="false"
                         paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
                         emptyMessage="没有数据">
                <f:facet name="header">
                    <h:outputText value="车辆一览"/>
                </f:facet>
                <p:columnGroup type="header">
                    <p:row>
                        <p:column headerText="设备" styleClass="wd-p-5"/>
                        <p:column headerText="类型" styleClass="wd-p-5"/>
                        <p:column headerText="工作内容" filterBy="#{cheLiang.cheLiangMingCheng}" filterMaxLength="20" filterMatchMode="contains" styleClass="wd-p-10"/>
                        <p:column headerText="遗留" styleClass="tct wd-p-5"/>
                        <p:column headerText="工作时间" styleClass="tct wd-p-5"/>
                        <p:column headerText="负责人" styleClass="tct wd-p-5"/>
                        <p:column headerText="下次时间" styleClass="tct wd-p-10"/>
                    </p:row>
                </p:columnGroup>
               
              
                <!--设备-->
                <p:column>
                    <h:outputText value="#{cheLiang.beiZhu}"/>
                </p:column>
                <!--类型-->
                <p:column>
                    <h:outputText value="#{cheLiang.pinPai}"/>
                </p:column>
                <!--工作内容-->
                <p:column>
                    <h:outputText value="#{cheLiang.xingHao}"/>
                </p:column>
                <!--遗留-->
                <p:column>
                    <h:outputText value="#{cheLiang.price}"/>
                </p:column>
                <!--工作时间-->
                <p:column>
                    <h:outputText value="#{cheLiang.purchaseDate}">
                        <f:convertDateTime pattern="#{bizConfig.dateFormat}"/>
                    </h:outputText>
                </p:column>
                <!--负责人-->
                <p:column>
                    <h:outputText value="#{cheLiang.engineNumber}"/>
                </p:column>
                <!--下次时间-->
                <p:column>
                    <h:outputText value="#{cheLiang.color}"/>
                </p:column>
            </p:dataTable>
        </div>
    </p:outputPanel>
</p:outputPanel>

<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
    <p:commandButton value="确定" type="button" styleClass="ui-confirmdialog-yes"/>
    <p:commandButton value="取消" type="button" styleClass="ui-confirmdialog-no"/>
</p:confirmDialog>
</ui:composition>